[gd_scene load_steps=2 format=2]

[sub_resource type="GDScript" id=1]
script/source = "extends Node2D


func _ready():
	get_tree().connect(\"network_peer_connected\", self, \"_player_connected\")


func _on_Button_Host_pressed():
	var net = NetworkedMultiplayerENet.new()
	net.create_server(6969, 2)
	get_tree().set_network_peer(net)
	print(\"Hosting on 6969\")

func _on_Button_Join_pressed():
	var net = NetworkedMultiplayerENet.new()
	net.create_client(\"127.0.0.1\", 6969)
	get_tree().set_network_peer(net)
	print(\"Joining on 6969\")
	
func _player_connected(id):
	Globals.player2id = id
	var game = preload(\"res://worlds/World.tscn\").instance()
	get_tree().get_root().add_child(game)
	hide()
"

[node name="Node2D" type="Node2D"]
script = SubResource( 1 )

[node name="Button Host" type="Button" parent="."]
anchor_left = 0.5
anchor_right = 0.5
margin_left = 393.379
margin_top = 16.5417
margin_right = 759.379
margin_bottom = 110.542
rect_pivot_offset = Vector2( 328.359, 205.136 )
text = "Host"
__meta__ = {
"_edit_use_anchors_": false
}

[node name="Button Join" type="Button" parent="."]
anchor_left = 0.5
anchor_right = 0.5
margin_left = 390.472
margin_top = 131.742
margin_right = 756.472
margin_bottom = 225.742
rect_pivot_offset = Vector2( 328.359, 205.136 )
text = "Join"
__meta__ = {
"_edit_use_anchors_": false
}

[connection signal="pressed" from="Button Host" to="." method="_on_Button_Host_pressed"]
[connection signal="pressed" from="Button Join" to="." method="_on_Button_Join_pressed"]
